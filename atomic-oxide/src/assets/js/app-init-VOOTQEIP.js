"use strict";(()=>{var it={type:"logger",log(i){this.output("log",i)},warn(i){this.output("warn",i)},error(i){this.output("error",i)},output(i,e){console&&console[i]&&console[i].apply(console,e)}},re=class i{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.init(e,t)}init(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=t.prefix||"i18next:",this.logger=e||it,this.options=t,this.debug=t.debug}log(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return this.forward(t,"log","",!0)}warn(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return this.forward(t,"warn","",!0)}error(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return this.forward(t,"error","")}deprecate(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}forward(e,t,s,r){return r&&!this.debug?null:(typeof e[0]=="string"&&(e[0]=`${s}${this.prefix} ${e[0]}`),this.logger[t](e))}create(e){return new i(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new i(this.logger,e)}},C=new re,A=class{constructor(){this.observers={}}on(e,t){return e.split(" ").forEach(s=>{this.observers[s]||(this.observers[s]=new Map);let r=this.observers[s].get(t)||0;this.observers[s].set(t,r+1)}),this}off(e,t){if(this.observers[e]){if(!t){delete this.observers[e];return}this.observers[e].delete(t)}}emit(e){for(var t=arguments.length,s=new Array(t>1?t-1:0),r=1;r<t;r++)s[r-1]=arguments[r];this.observers[e]&&Array.from(this.observers[e].entries()).forEach(o=>{let[a,l]=o;for(let c=0;c<l;c++)a(...s)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(o=>{let[a,l]=o;for(let c=0;c<l;c++)a.apply(a,[e,...s])})}},D=()=>{let i,e,t=new Promise((s,r)=>{i=s,e=r});return t.resolve=i,t.reject=e,t},be=i=>i==null?"":""+i,rt=(i,e,t)=>{i.forEach(s=>{e[s]&&(t[s]=e[s])})},nt=/###/g,ve=i=>i&&i.indexOf("###")>-1?i.replace(nt,"."):i,ye=i=>!i||typeof i=="string",j=(i,e,t)=>{let s=typeof e!="string"?e:e.split("."),r=0;for(;r<s.length-1;){if(ye(i))return{};let n=ve(s[r]);!i[n]&&t&&(i[n]=new t),Object.prototype.hasOwnProperty.call(i,n)?i=i[n]:i={},++r}return ye(i)?{}:{obj:i,k:ve(s[r])}},xe=(i,e,t)=>{let{obj:s,k:r}=j(i,e,Object);if(s!==void 0||e.length===1){s[r]=t;return}let n=e[e.length-1],o=e.slice(0,e.length-1),a=j(i,o,Object);for(;a.obj===void 0&&o.length;)n=`${o[o.length-1]}.${n}`,o=o.slice(0,o.length-1),a=j(i,o,Object),a&&a.obj&&typeof a.obj[`${a.k}.${n}`]<"u"&&(a.obj=void 0);a.obj[`${a.k}.${n}`]=t},ot=(i,e,t,s)=>{let{obj:r,k:n}=j(i,e,Object);r[n]=r[n]||[],r[n].push(t)},J=(i,e)=>{let{obj:t,k:s}=j(i,e);if(t)return t[s]},at=(i,e,t)=>{let s=J(i,t);return s!==void 0?s:J(e,t)},ke=(i,e,t)=>{for(let s in e)s!=="__proto__"&&s!=="constructor"&&(s in i?typeof i[s]=="string"||i[s]instanceof String||typeof e[s]=="string"||e[s]instanceof String?t&&(i[s]=e[s]):ke(i[s],e[s],t):i[s]=e[s]);return i},N=i=>i.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"),lt={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"},ut=i=>typeof i=="string"?i.replace(/[&<>"'\/]/g,e=>lt[e]):i,ne=class{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){let t=this.regExpMap.get(e);if(t!==void 0)return t;let s=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,s),this.regExpQueue.push(e),s}},ct=[" ",",","?","!",";"],pt=new ne(20),ft=(i,e,t)=>{e=e||"",t=t||"";let s=ct.filter(o=>e.indexOf(o)<0&&t.indexOf(o)<0);if(s.length===0)return!0;let r=pt.getRegExp(`(${s.map(o=>o==="?"?"\\?":o).join("|")})`),n=!r.test(i);if(!n){let o=i.indexOf(t);o>0&&!r.test(i.substring(0,o))&&(n=!0)}return n},oe=function(i,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!i)return;if(i[e])return i[e];let s=e.split(t),r=i;for(let n=0;n<s.length;){if(!r||typeof r!="object")return;let o,a="";for(let l=n;l<s.length;++l)if(l!==n&&(a+=t),a+=s[l],o=r[a],o!==void 0){if(["string","number","boolean"].indexOf(typeof o)>-1&&l<s.length-1)continue;n+=l-n+1;break}r=o}return r},W=i=>i&&i.indexOf("_")>0?i.replace("_","-"):i,Y=class extends A{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=e||{},this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){let t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}getResource(e,t,s){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},n=r.keySeparator!==void 0?r.keySeparator:this.options.keySeparator,o=r.ignoreJSONStructure!==void 0?r.ignoreJSONStructure:this.options.ignoreJSONStructure,a;e.indexOf(".")>-1?a=e.split("."):(a=[e,t],s&&(Array.isArray(s)?a.push(...s):typeof s=="string"&&n?a.push(...s.split(n)):a.push(s)));let l=J(this.data,a);return!l&&!t&&!s&&e.indexOf(".")>-1&&(e=a[0],t=a[1],s=a.slice(2).join(".")),l||!o||typeof s!="string"?l:oe(this.data&&this.data[e]&&this.data[e][t],s,n)}addResource(e,t,s,r){let n=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1},o=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator,a=[e,t];s&&(a=a.concat(o?s.split(o):s)),e.indexOf(".")>-1&&(a=e.split("."),r=t,t=a[1]),this.addNamespaces(t),xe(this.data,a,r),n.silent||this.emit("added",e,t,s,r)}addResources(e,t,s){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(let n in s)(typeof s[n]=="string"||Array.isArray(s[n]))&&this.addResource(e,t,n,s[n],{silent:!0});r.silent||this.emit("added",e,t,s)}addResourceBundle(e,t,s,r,n){let o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1,skipCopy:!1},a=[e,t];e.indexOf(".")>-1&&(a=e.split("."),r=s,s=t,t=a[1]),this.addNamespaces(t);let l=J(this.data,a)||{};o.skipCopy||(s=JSON.parse(JSON.stringify(s))),r?ke(l,s,n):l={...l,...s},xe(this.data,a,l),o.silent||this.emit("added",e,t,s)}removeResourceBundle(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}hasResourceBundle(e,t){return this.getResource(e,t)!==void 0}getResourceBundle(e,t){return t||(t=this.options.defaultNS),this.options.compatibilityAPI==="v1"?{...this.getResource(e,t)}:this.getResource(e,t)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){let t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find(r=>t[r]&&Object.keys(t[r]).length>0)}toJSON(){return this.data}},Ie={processors:{},addPostProcessor(i){this.processors[i.name]=i},handle(i,e,t,s,r){return i.forEach(n=>{this.processors[n]&&(e=this.processors[n].process(e,t,s,r))}),e}},Se={},Q=class i extends A{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),rt(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=C.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(e==null)return!1;let s=this.resolve(e,t);return s&&s.res!==void 0}extractFromKey(e,t){let s=t.nsSeparator!==void 0?t.nsSeparator:this.options.nsSeparator;s===void 0&&(s=":");let r=t.keySeparator!==void 0?t.keySeparator:this.options.keySeparator,n=t.ns||this.options.defaultNS||[],o=s&&e.indexOf(s)>-1,a=!this.options.userDefinedKeySeparator&&!t.keySeparator&&!this.options.userDefinedNsSeparator&&!t.nsSeparator&&!ft(e,s,r);if(o&&!a){let l=e.match(this.interpolator.nestingRegexp);if(l&&l.length>0)return{key:e,namespaces:n};let c=e.split(s);(s!==r||s===r&&this.options.ns.indexOf(c[0])>-1)&&(n=c.shift()),e=c.join(r)}return typeof n=="string"&&(n=[n]),{key:e,namespaces:n}}translate(e,t,s){if(typeof t!="object"&&this.options.overloadTranslationOptionHandler&&(t=this.options.overloadTranslationOptionHandler(arguments)),typeof t=="object"&&(t={...t}),t||(t={}),e==null)return"";Array.isArray(e)||(e=[String(e)]);let r=t.returnDetails!==void 0?t.returnDetails:this.options.returnDetails,n=t.keySeparator!==void 0?t.keySeparator:this.options.keySeparator,{key:o,namespaces:a}=this.extractFromKey(e[e.length-1],t),l=a[a.length-1],c=t.lng||this.language,p=t.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(c&&c.toLowerCase()==="cimode"){if(p){let v=t.nsSeparator||this.options.nsSeparator;return r?{res:`${l}${v}${o}`,usedKey:o,exactUsedKey:o,usedLng:c,usedNS:l,usedParams:this.getUsedParamsDetails(t)}:`${l}${v}${o}`}return r?{res:o,usedKey:o,exactUsedKey:o,usedLng:c,usedNS:l,usedParams:this.getUsedParamsDetails(t)}:o}let f=this.resolve(e,t),u=f&&f.res,g=f&&f.usedKey||o,h=f&&f.exactUsedKey||o,b=Object.prototype.toString.apply(u),m=["[object Number]","[object Function]","[object RegExp]"],S=t.joinArrays!==void 0?t.joinArrays:this.options.joinArrays,y=!this.i18nFormat||this.i18nFormat.handleAsObject;if(y&&u&&(typeof u!="string"&&typeof u!="boolean"&&typeof u!="number")&&m.indexOf(b)<0&&!(typeof S=="string"&&Array.isArray(u))){if(!t.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");let v=this.options.returnedObjectHandler?this.options.returnedObjectHandler(g,u,{...t,ns:a}):`key '${o} (${this.language})' returned an object instead of string.`;return r?(f.res=v,f.usedParams=this.getUsedParamsDetails(t),f):v}if(n){let v=Array.isArray(u),w=v?[]:{},O=v?h:g;for(let x in u)if(Object.prototype.hasOwnProperty.call(u,x)){let B=`${O}${n}${x}`;w[x]=this.translate(B,{...t,joinArrays:!1,ns:a}),w[x]===B&&(w[x]=u[x])}u=w}}else if(y&&typeof S=="string"&&Array.isArray(u))u=u.join(S),u&&(u=this.extendTranslation(u,e,t,s));else{let v=!1,w=!1,O=t.count!==void 0&&typeof t.count!="string",x=i.hasDefaultValue(t),B=O?this.pluralResolver.getSuffix(c,t.count,t):"",tt=t.ordinal&&O?this.pluralResolver.getSuffix(c,t.count,{ordinal:!1}):"",de=O&&!t.ordinal&&t.count===0&&this.pluralResolver.shouldUseIntlApi(),P=de&&t[`defaultValue${this.options.pluralSeparator}zero`]||t[`defaultValue${B}`]||t[`defaultValue${tt}`]||t.defaultValue;!this.isValidLookup(u)&&x&&(v=!0,u=P),this.isValidLookup(u)||(w=!0,u=o);let st=(t.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&w?void 0:u,T=x&&P!==u&&this.options.updateMissing;if(w||v||T){if(this.logger.log(T?"updateKey":"missingKey",c,l,o,T?P:u),n){let L=this.resolve(o,{...t,keySeparator:!1});L&&L.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let $=[],q=this.languageUtils.getFallbackCodes(this.options.fallbackLng,t.lng||this.language);if(this.options.saveMissingTo==="fallback"&&q&&q[0])for(let L=0;L<q.length;L++)$.push(q[L]);else this.options.saveMissingTo==="all"?$=this.languageUtils.toResolveHierarchy(t.lng||this.language):$.push(t.lng||this.language);let he=(L,k,M)=>{let me=x&&M!==u?M:st;this.options.missingKeyHandler?this.options.missingKeyHandler(L,l,k,me,T,t):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(L,l,k,me,T,t),this.emit("missingKey",L,l,k,u)};this.options.saveMissing&&(this.options.saveMissingPlurals&&O?$.forEach(L=>{let k=this.pluralResolver.getSuffixes(L,t);de&&t[`defaultValue${this.options.pluralSeparator}zero`]&&k.indexOf(`${this.options.pluralSeparator}zero`)<0&&k.push(`${this.options.pluralSeparator}zero`),k.forEach(M=>{he([L],o+M,t[`defaultValue${M}`]||P)})}):he($,o,P))}u=this.extendTranslation(u,e,t,f,s),w&&u===o&&this.options.appendNamespaceToMissingKey&&(u=`${l}:${o}`),(w||v)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?u=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${l}:${o}`:o,v?u:void 0):u=this.options.parseMissingKeyHandler(u))}return r?(f.res=u,f.usedParams=this.getUsedParamsDetails(t),f):u}extendTranslation(e,t,s,r,n){var o=this;if(this.i18nFormat&&this.i18nFormat.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...s},s.lng||this.language||r.usedLng,r.usedNS,r.usedKey,{resolved:r});else if(!s.skipInterpolation){s.interpolation&&this.interpolator.init({...s,interpolation:{...this.options.interpolation,...s.interpolation}});let c=typeof e=="string"&&(s&&s.interpolation&&s.interpolation.skipOnVariables!==void 0?s.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables),p;if(c){let u=e.match(this.interpolator.nestingRegexp);p=u&&u.length}let f=s.replace&&typeof s.replace!="string"?s.replace:s;if(this.options.interpolation.defaultVariables&&(f={...this.options.interpolation.defaultVariables,...f}),e=this.interpolator.interpolate(e,f,s.lng||this.language||r.usedLng,s),c){let u=e.match(this.interpolator.nestingRegexp),g=u&&u.length;p<g&&(s.nest=!1)}!s.lng&&this.options.compatibilityAPI!=="v1"&&r&&r.res&&(s.lng=this.language||r.usedLng),s.nest!==!1&&(e=this.interpolator.nest(e,function(){for(var u=arguments.length,g=new Array(u),h=0;h<u;h++)g[h]=arguments[h];return n&&n[0]===g[0]&&!s.context?(o.logger.warn(`It seems you are nesting recursively key: ${g[0]} in key: ${t[0]}`),null):o.translate(...g,t)},s)),s.interpolation&&this.interpolator.reset()}let a=s.postProcess||this.options.postProcess,l=typeof a=="string"?[a]:a;return e!=null&&l&&l.length&&s.applyPostProcessor!==!1&&(e=Ie.handle(l,e,t,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...r,usedParams:this.getUsedParamsDetails(s)},...s}:s,this)),e}resolve(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s,r,n,o,a;return typeof e=="string"&&(e=[e]),e.forEach(l=>{if(this.isValidLookup(s))return;let c=this.extractFromKey(l,t),p=c.key;r=p;let f=c.namespaces;this.options.fallbackNS&&(f=f.concat(this.options.fallbackNS));let u=t.count!==void 0&&typeof t.count!="string",g=u&&!t.ordinal&&t.count===0&&this.pluralResolver.shouldUseIntlApi(),h=t.context!==void 0&&(typeof t.context=="string"||typeof t.context=="number")&&t.context!=="",b=t.lngs?t.lngs:this.languageUtils.toResolveHierarchy(t.lng||this.language,t.fallbackLng);f.forEach(m=>{this.isValidLookup(s)||(a=m,!Se[`${b[0]}-${m}`]&&this.utils&&this.utils.hasLoadedNamespace&&!this.utils.hasLoadedNamespace(a)&&(Se[`${b[0]}-${m}`]=!0,this.logger.warn(`key "${r}" for languages "${b.join(", ")}" won't get resolved as namespace "${a}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),b.forEach(S=>{if(this.isValidLookup(s))return;o=S;let y=[p];if(this.i18nFormat&&this.i18nFormat.addLookupKeys)this.i18nFormat.addLookupKeys(y,p,S,m,t);else{let v;u&&(v=this.pluralResolver.getSuffix(S,t.count,t));let w=`${this.options.pluralSeparator}zero`,O=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(u&&(y.push(p+v),t.ordinal&&v.indexOf(O)===0&&y.push(p+v.replace(O,this.options.pluralSeparator)),g&&y.push(p+w)),h){let x=`${p}${this.options.contextSeparator}${t.context}`;y.push(x),u&&(y.push(x+v),t.ordinal&&v.indexOf(O)===0&&y.push(x+v.replace(O,this.options.pluralSeparator)),g&&y.push(x+w))}}let H;for(;H=y.pop();)this.isValidLookup(s)||(n=H,s=this.getResource(S,m,H,t))}))})}),{res:s,usedKey:r,exactUsedKey:n,usedLng:o,usedNS:a}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,t,s){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(e,t,s,r):this.resourceStore.getResource(e,t,s,r)}getUsedParamsDetails(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],s=e.replace&&typeof e.replace!="string",r=s?e.replace:e;if(s&&typeof e.count<"u"&&(r.count=e.count),this.options.interpolation.defaultVariables&&(r={...this.options.interpolation.defaultVariables,...r}),!s){r={...r};for(let n of t)delete r[n]}return r}static hasDefaultValue(e){let t="defaultValue";for(let s in e)if(Object.prototype.hasOwnProperty.call(e,s)&&t===s.substring(0,t.length)&&e[s]!==void 0)return!0;return!1}},se=i=>i.charAt(0).toUpperCase()+i.slice(1),X=class{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=C.create("languageUtils")}getScriptPartFromCode(e){if(e=W(e),!e||e.indexOf("-")<0)return null;let t=e.split("-");return t.length===2||(t.pop(),t[t.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(t.join("-"))}getLanguagePartFromCode(e){if(e=W(e),!e||e.indexOf("-")<0)return e;let t=e.split("-");return this.formatLanguageCode(t[0])}formatLanguageCode(e){if(typeof e=="string"&&e.indexOf("-")>-1){let t=["hans","hant","latn","cyrl","cans","mong","arab"],s=e.split("-");return this.options.lowerCaseLng?s=s.map(r=>r.toLowerCase()):s.length===2?(s[0]=s[0].toLowerCase(),s[1]=s[1].toUpperCase(),t.indexOf(s[1].toLowerCase())>-1&&(s[1]=se(s[1].toLowerCase()))):s.length===3&&(s[0]=s[0].toLowerCase(),s[1].length===2&&(s[1]=s[1].toUpperCase()),s[0]!=="sgn"&&s[2].length===2&&(s[2]=s[2].toUpperCase()),t.indexOf(s[1].toLowerCase())>-1&&(s[1]=se(s[1].toLowerCase())),t.indexOf(s[2].toLowerCase())>-1&&(s[2]=se(s[2].toLowerCase()))),s.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let t;return e.forEach(s=>{if(t)return;let r=this.formatLanguageCode(s);(!this.options.supportedLngs||this.isSupportedCode(r))&&(t=r)}),!t&&this.options.supportedLngs&&e.forEach(s=>{if(t)return;let r=this.getLanguagePartFromCode(s);if(this.isSupportedCode(r))return t=r;t=this.options.supportedLngs.find(n=>{if(n===r)return n;if(!(n.indexOf("-")<0&&r.indexOf("-")<0)&&(n.indexOf("-")>0&&r.indexOf("-")<0&&n.substring(0,n.indexOf("-"))===r||n.indexOf(r)===0&&r.length>1))return n})}),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t}getFallbackCodes(e,t){if(!e)return[];if(typeof e=="function"&&(e=e(t)),typeof e=="string"&&(e=[e]),Array.isArray(e))return e;if(!t)return e.default||[];let s=e[t];return s||(s=e[this.getScriptPartFromCode(t)]),s||(s=e[this.formatLanguageCode(t)]),s||(s=e[this.getLanguagePartFromCode(t)]),s||(s=e.default),s||[]}toResolveHierarchy(e,t){let s=this.getFallbackCodes(t||this.options.fallbackLng||[],e),r=[],n=o=>{o&&(this.isSupportedCode(o)?r.push(o):this.logger.warn(`rejecting language code not found in supportedLngs: ${o}`))};return typeof e=="string"&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&n(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&n(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&n(this.getLanguagePartFromCode(e))):typeof e=="string"&&n(this.formatLanguageCode(e)),s.forEach(o=>{r.indexOf(o)<0&&n(this.formatLanguageCode(o))}),r}},gt=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],dt={1:i=>+(i>1),2:i=>+(i!=1),3:i=>0,4:i=>i%10==1&&i%100!=11?0:i%10>=2&&i%10<=4&&(i%100<10||i%100>=20)?1:2,5:i=>i==0?0:i==1?1:i==2?2:i%100>=3&&i%100<=10?3:i%100>=11?4:5,6:i=>i==1?0:i>=2&&i<=4?1:2,7:i=>i==1?0:i%10>=2&&i%10<=4&&(i%100<10||i%100>=20)?1:2,8:i=>i==1?0:i==2?1:i!=8&&i!=11?2:3,9:i=>+(i>=2),10:i=>i==1?0:i==2?1:i<7?2:i<11?3:4,11:i=>i==1||i==11?0:i==2||i==12?1:i>2&&i<20?2:3,12:i=>+(i%10!=1||i%100==11),13:i=>+(i!==0),14:i=>i==1?0:i==2?1:i==3?2:3,15:i=>i%10==1&&i%100!=11?0:i%10>=2&&(i%100<10||i%100>=20)?1:2,16:i=>i%10==1&&i%100!=11?0:i!==0?1:2,17:i=>i==1||i%10==1&&i%100!=11?0:1,18:i=>i==0?0:i==1?1:2,19:i=>i==1?0:i==0||i%100>1&&i%100<11?1:i%100>10&&i%100<20?2:3,20:i=>i==1?0:i==0||i%100>0&&i%100<20?1:2,21:i=>i%100==1?1:i%100==2?2:i%100==3||i%100==4?3:0,22:i=>i==1?0:i==2?1:(i<0||i>10)&&i%10==0?2:3},ht=["v1","v2","v3"],mt=["v4"],we={zero:0,one:1,two:2,few:3,many:4,other:5},bt=()=>{let i={};return gt.forEach(e=>{e.lngs.forEach(t=>{i[t]={numbers:e.nr,plurals:dt[e.fc]}})}),i},ae=class{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.languageUtils=e,this.options=t,this.logger=C.create("pluralResolver"),(!this.options.compatibilityJSON||mt.includes(this.options.compatibilityJSON))&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=bt()}addRule(e,t){this.rules[e]=t}getRule(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi())try{return new Intl.PluralRules(W(e==="dev"?"en":e),{type:t.ordinal?"ordinal":"cardinal"})}catch{return}return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]}needsPlural(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=this.getRule(e,t);return this.shouldUseIntlApi()?s&&s.resolvedOptions().pluralCategories.length>1:s&&s.numbers.length>1}getPluralFormsOfKey(e,t){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(e,s).map(r=>`${t}${r}`)}getSuffixes(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=this.getRule(e,t);return s?this.shouldUseIntlApi()?s.resolvedOptions().pluralCategories.sort((r,n)=>we[r]-we[n]).map(r=>`${this.options.prepend}${t.ordinal?`ordinal${this.options.prepend}`:""}${r}`):s.numbers.map(r=>this.getSuffix(e,r,t)):[]}getSuffix(e,t){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=this.getRule(e,s);return r?this.shouldUseIntlApi()?`${this.options.prepend}${s.ordinal?`ordinal${this.options.prepend}`:""}${r.select(t)}`:this.getSuffixRetroCompatible(r,t):(this.logger.warn(`no plural rule found for: ${e}`),"")}getSuffixRetroCompatible(e,t){let s=e.noAbs?e.plurals(t):e.plurals(Math.abs(t)),r=e.numbers[s];this.options.simplifyPluralSuffix&&e.numbers.length===2&&e.numbers[0]===1&&(r===2?r="plural":r===1&&(r=""));let n=()=>this.options.prepend&&r.toString()?this.options.prepend+r.toString():r.toString();return this.options.compatibilityJSON==="v1"?r===1?"":typeof r=="number"?`_plural_${r.toString()}`:n():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&e.numbers.length===2&&e.numbers[0]===1?n():this.options.prepend&&s.toString()?this.options.prepend+s.toString():s.toString()}shouldUseIntlApi(){return!ht.includes(this.options.compatibilityJSON)}},Le=function(i,e,t){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",r=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,n=at(i,e,t);return!n&&r&&typeof t=="string"&&(n=oe(i,t,s),n===void 0&&(n=oe(e,t,s))),n},ie=i=>i.replace(/\$/g,"$$$$"),le=class{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=C.create("interpolator"),this.options=e,this.format=e.interpolation&&e.interpolation.format||(t=>t),this.init(e)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});let{escape:t,escapeValue:s,useRawValueToEscape:r,prefix:n,prefixEscaped:o,suffix:a,suffixEscaped:l,formatSeparator:c,unescapeSuffix:p,unescapePrefix:f,nestingPrefix:u,nestingPrefixEscaped:g,nestingSuffix:h,nestingSuffixEscaped:b,nestingOptionsSeparator:m,maxReplaces:S,alwaysFormat:y}=e.interpolation;this.escape=t!==void 0?t:ut,this.escapeValue=s!==void 0?s:!0,this.useRawValueToEscape=r!==void 0?r:!1,this.prefix=n?N(n):o||"{{",this.suffix=a?N(a):l||"}}",this.formatSeparator=c||",",this.unescapePrefix=p?"":f||"-",this.unescapeSuffix=this.unescapePrefix?"":p||"",this.nestingPrefix=u?N(u):g||N("$t("),this.nestingSuffix=h?N(h):b||N(")"),this.nestingOptionsSeparator=m||",",this.maxReplaces=S||1e3,this.alwaysFormat=y!==void 0?y:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){let e=(t,s)=>t&&t.source===s?(t.lastIndex=0,t):new RegExp(s,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(e,t,s,r){let n,o,a,l=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},c=g=>{if(g.indexOf(this.formatSeparator)<0){let S=Le(t,l,g,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(S,void 0,s,{...r,...t,interpolationkey:g}):S}let h=g.split(this.formatSeparator),b=h.shift().trim(),m=h.join(this.formatSeparator).trim();return this.format(Le(t,l,b,this.options.keySeparator,this.options.ignoreJSONStructure),m,s,{...r,...t,interpolationkey:b})};this.resetRegExp();let p=r&&r.missingInterpolationHandler||this.options.missingInterpolationHandler,f=r&&r.interpolation&&r.interpolation.skipOnVariables!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:g=>ie(g)},{regex:this.regexp,safeValue:g=>this.escapeValue?ie(this.escape(g)):ie(g)}].forEach(g=>{for(a=0;n=g.regex.exec(e);){let h=n[1].trim();if(o=c(h),o===void 0)if(typeof p=="function"){let m=p(e,n,r);o=typeof m=="string"?m:""}else if(r&&Object.prototype.hasOwnProperty.call(r,h))o="";else if(f){o=n[0];continue}else this.logger.warn(`missed to pass in variable ${h} for interpolating ${e}`),o="";else typeof o!="string"&&!this.useRawValueToEscape&&(o=be(o));let b=g.safeValue(o);if(e=e.replace(n[0],b),f?(g.regex.lastIndex+=o.length,g.regex.lastIndex-=n[0].length):g.regex.lastIndex=0,a++,a>=this.maxReplaces)break}}),e}nest(e,t){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r,n,o,a=(l,c)=>{let p=this.nestingOptionsSeparator;if(l.indexOf(p)<0)return l;let f=l.split(new RegExp(`${p}[ ]*{`)),u=`{${f[1]}`;l=f[0],u=this.interpolate(u,o);let g=u.match(/'/g),h=u.match(/"/g);(g&&g.length%2===0&&!h||h.length%2!==0)&&(u=u.replace(/'/g,'"'));try{o=JSON.parse(u),c&&(o={...c,...o})}catch(b){return this.logger.warn(`failed parsing options string in nesting for key ${l}`,b),`${l}${p}${u}`}return o.defaultValue&&o.defaultValue.indexOf(this.prefix)>-1&&delete o.defaultValue,l};for(;r=this.nestingRegexp.exec(e);){let l=[];o={...s},o=o.replace&&typeof o.replace!="string"?o.replace:o,o.applyPostProcessor=!1,delete o.defaultValue;let c=!1;if(r[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(r[1])){let p=r[1].split(this.formatSeparator).map(f=>f.trim());r[1]=p.shift(),l=p,c=!0}if(n=t(a.call(this,r[1].trim(),o),o),n&&r[0]===e&&typeof n!="string")return n;typeof n!="string"&&(n=be(n)),n||(this.logger.warn(`missed to resolve ${r[1]} for nesting ${e}`),n=""),c&&(n=l.reduce((p,f)=>this.format(p,f,s.lng,{...s,interpolationkey:r[1].trim()}),n.trim())),e=e.replace(r[0],n),this.regexp.lastIndex=0}return e}},vt=i=>{let e=i.toLowerCase().trim(),t={};if(i.indexOf("(")>-1){let s=i.split("(");e=s[0].toLowerCase().trim();let r=s[1].substring(0,s[1].length-1);e==="currency"&&r.indexOf(":")<0?t.currency||(t.currency=r.trim()):e==="relativetime"&&r.indexOf(":")<0?t.range||(t.range=r.trim()):r.split(";").forEach(o=>{if(o){let[a,...l]=o.split(":"),c=l.join(":").trim().replace(/^'+|'+$/g,""),p=a.trim();t[p]||(t[p]=c),c==="false"&&(t[p]=!1),c==="true"&&(t[p]=!0),isNaN(c)||(t[p]=parseInt(c,10))}})}return{formatName:e,formatOptions:t}},E=i=>{let e={};return(t,s,r)=>{let n=s+JSON.stringify(r),o=e[n];return o||(o=i(W(s),r),e[n]=o),o(t)}},ue=class{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=C.create("formatter"),this.options=e,this.formats={number:E((t,s)=>{let r=new Intl.NumberFormat(t,{...s});return n=>r.format(n)}),currency:E((t,s)=>{let r=new Intl.NumberFormat(t,{...s,style:"currency"});return n=>r.format(n)}),datetime:E((t,s)=>{let r=new Intl.DateTimeFormat(t,{...s});return n=>r.format(n)}),relativetime:E((t,s)=>{let r=new Intl.RelativeTimeFormat(t,{...s});return n=>r.format(n,s.range||"day")}),list:E((t,s)=>{let r=new Intl.ListFormat(t,{...s});return n=>r.format(n)})},this.init(e)}init(e){let s=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}}).interpolation;this.formatSeparator=s.formatSeparator?s.formatSeparator:s.formatSeparator||","}add(e,t){this.formats[e.toLowerCase().trim()]=t}addCached(e,t){this.formats[e.toLowerCase().trim()]=E(t)}format(e,t,s){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},n=t.split(this.formatSeparator);if(n.length>1&&n[0].indexOf("(")>1&&n[0].indexOf(")")<0&&n.find(a=>a.indexOf(")")>-1)){let a=n.findIndex(l=>l.indexOf(")")>-1);n[0]=[n[0],...n.splice(1,a)].join(this.formatSeparator)}return n.reduce((a,l)=>{let{formatName:c,formatOptions:p}=vt(l);if(this.formats[c]){let f=a;try{let u=r&&r.formatParams&&r.formatParams[r.interpolationkey]||{},g=u.locale||u.lng||r.locale||r.lng||s;f=this.formats[c](a,g,{...p,...r,...u})}catch(u){this.logger.warn(u)}return f}else this.logger.warn(`there was no format function for ${c}`);return a},e)}},yt=(i,e)=>{i.pending[e]!==void 0&&(delete i.pending[e],i.pendingCount--)},ce=class extends A{constructor(e,t,s){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(),this.backend=e,this.store=t,this.services=s,this.languageUtils=s.languageUtils,this.options=r,this.logger=C.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=r.maxParallelReads||10,this.readingCalls=0,this.maxRetries=r.maxRetries>=0?r.maxRetries:5,this.retryTimeout=r.retryTimeout>=1?r.retryTimeout:350,this.state={},this.queue=[],this.backend&&this.backend.init&&this.backend.init(s,r.backend,r)}queueLoad(e,t,s,r){let n={},o={},a={},l={};return e.forEach(c=>{let p=!0;t.forEach(f=>{let u=`${c}|${f}`;!s.reload&&this.store.hasResourceBundle(c,f)?this.state[u]=2:this.state[u]<0||(this.state[u]===1?o[u]===void 0&&(o[u]=!0):(this.state[u]=1,p=!1,o[u]===void 0&&(o[u]=!0),n[u]===void 0&&(n[u]=!0),l[f]===void 0&&(l[f]=!0)))}),p||(a[c]=!0)}),(Object.keys(n).length||Object.keys(o).length)&&this.queue.push({pending:o,pendingCount:Object.keys(o).length,loaded:{},errors:[],callback:r}),{toLoad:Object.keys(n),pending:Object.keys(o),toLoadLanguages:Object.keys(a),toLoadNamespaces:Object.keys(l)}}loaded(e,t,s){let r=e.split("|"),n=r[0],o=r[1];t&&this.emit("failedLoading",n,o,t),s&&this.store.addResourceBundle(n,o,s,void 0,void 0,{skipCopy:!0}),this.state[e]=t?-1:2;let a={};this.queue.forEach(l=>{ot(l.loaded,[n],o),yt(l,e),t&&l.errors.push(t),l.pendingCount===0&&!l.done&&(Object.keys(l.loaded).forEach(c=>{a[c]||(a[c]={});let p=l.loaded[c];p.length&&p.forEach(f=>{a[c][f]===void 0&&(a[c][f]=!0)})}),l.done=!0,l.errors.length?l.callback(l.errors):l.callback())}),this.emit("loaded",a),this.queue=this.queue.filter(l=>!l.done)}read(e,t,s){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,n=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,o=arguments.length>5?arguments[5]:void 0;if(!e.length)return o(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:t,fcName:s,tried:r,wait:n,callback:o});return}this.readingCalls++;let a=(c,p)=>{if(this.readingCalls--,this.waitingReads.length>0){let f=this.waitingReads.shift();this.read(f.lng,f.ns,f.fcName,f.tried,f.wait,f.callback)}if(c&&p&&r<this.maxRetries){setTimeout(()=>{this.read.call(this,e,t,s,r+1,n*2,o)},n);return}o(c,p)},l=this.backend[s].bind(this.backend);if(l.length===2){try{let c=l(e,t);c&&typeof c.then=="function"?c.then(p=>a(null,p)).catch(a):a(null,c)}catch(c){a(c)}return}return l(e,t,a)}prepareLoading(e,t){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),r&&r();typeof e=="string"&&(e=this.languageUtils.toResolveHierarchy(e)),typeof t=="string"&&(t=[t]);let n=this.queueLoad(e,t,s,r);if(!n.toLoad.length)return n.pending.length||r(),null;n.toLoad.forEach(o=>{this.loadOne(o)})}load(e,t,s){this.prepareLoading(e,t,{},s)}reload(e,t,s){this.prepareLoading(e,t,{reload:!0},s)}loadOne(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",s=e.split("|"),r=s[0],n=s[1];this.read(r,n,"read",void 0,void 0,(o,a)=>{o&&this.logger.warn(`${t}loading namespace ${n} for language ${r} failed`,o),!o&&a&&this.logger.log(`${t}loaded namespace ${n} for language ${r}`,a),this.loaded(e,o,a)})}saveMissing(e,t,s,r,n){let o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},a=arguments.length>6&&arguments[6]!==void 0?arguments[6]:()=>{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(t)){this.logger.warn(`did not save key "${s}" as the namespace "${t}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(s==null||s==="")){if(this.backend&&this.backend.create){let l={...o,isUpdate:n},c=this.backend.create.bind(this.backend);if(c.length<6)try{let p;c.length===5?p=c(e,t,s,r,l):p=c(e,t,s,r),p&&typeof p.then=="function"?p.then(f=>a(null,f)).catch(a):a(null,p)}catch(p){a(p)}else c(e,t,s,r,a,l)}!e||!e[0]||this.store.addResource(e[0],t,s,r)}}},Oe=()=>({debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:i=>{let e={};if(typeof i[1]=="object"&&(e=i[1]),typeof i[1]=="string"&&(e.defaultValue=i[1]),typeof i[2]=="string"&&(e.tDescription=i[2]),typeof i[2]=="object"||typeof i[3]=="object"){let t=i[3]||i[2];Object.keys(t).forEach(s=>{e[s]=t[s]})}return e},interpolation:{escapeValue:!0,format:i=>i,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}),Ce=i=>(typeof i.ns=="string"&&(i.ns=[i.ns]),typeof i.fallbackLng=="string"&&(i.fallbackLng=[i.fallbackLng]),typeof i.fallbackNS=="string"&&(i.fallbackNS=[i.fallbackNS]),i.supportedLngs&&i.supportedLngs.indexOf("cimode")<0&&(i.supportedLngs=i.supportedLngs.concat(["cimode"])),i),G=()=>{},xt=i=>{Object.getOwnPropertyNames(Object.getPrototypeOf(i)).forEach(t=>{typeof i[t]=="function"&&(i[t]=i[t].bind(i))})},Z=class i extends A{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(super(),this.options=Ce(e),this.services={},this.logger=C,this.modules={external:[]},xt(this),t&&!this.isInitialized&&!e.isClone){if(!this.options.initImmediate)return this.init(e,t),this;setTimeout(()=>{this.init(e,t)},0)}}init(){var e=this;let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,typeof t=="function"&&(s=t,t={}),!t.defaultNS&&t.defaultNS!==!1&&t.ns&&(typeof t.ns=="string"?t.defaultNS=t.ns:t.ns.indexOf("translation")<0&&(t.defaultNS=t.ns[0]));let r=Oe();this.options={...r,...this.options,...Ce(t)},this.options.compatibilityAPI!=="v1"&&(this.options.interpolation={...r.interpolation,...this.options.interpolation}),t.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=t.keySeparator),t.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=t.nsSeparator);let n=p=>p?typeof p=="function"?new p:p:null;if(!this.options.isClone){this.modules.logger?C.init(n(this.modules.logger),this.options):C.init(null,this.options);let p;this.modules.formatter?p=this.modules.formatter:typeof Intl<"u"&&(p=ue);let f=new X(this.options);this.store=new Y(this.options.resources,this.options);let u=this.services;u.logger=C,u.resourceStore=this.store,u.languageUtils=f,u.pluralResolver=new ae(f,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),p&&(!this.options.interpolation.format||this.options.interpolation.format===r.interpolation.format)&&(u.formatter=n(p),u.formatter.init(u,this.options),this.options.interpolation.format=u.formatter.format.bind(u.formatter)),u.interpolator=new le(this.options),u.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},u.backendConnector=new ce(n(this.modules.backend),u.resourceStore,u,this.options),u.backendConnector.on("*",function(g){for(var h=arguments.length,b=new Array(h>1?h-1:0),m=1;m<h;m++)b[m-1]=arguments[m];e.emit(g,...b)}),this.modules.languageDetector&&(u.languageDetector=n(this.modules.languageDetector),u.languageDetector.init&&u.languageDetector.init(u,this.options.detection,this.options)),this.modules.i18nFormat&&(u.i18nFormat=n(this.modules.i18nFormat),u.i18nFormat.init&&u.i18nFormat.init(this)),this.translator=new Q(this.services,this.options),this.translator.on("*",function(g){for(var h=arguments.length,b=new Array(h>1?h-1:0),m=1;m<h;m++)b[m-1]=arguments[m];e.emit(g,...b)}),this.modules.external.forEach(g=>{g.init&&g.init(this)})}if(this.format=this.options.interpolation.format,s||(s=G),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){let p=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);p.length>0&&p[0]!=="dev"&&(this.options.lng=p[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(p=>{this[p]=function(){return e.store[p](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(p=>{this[p]=function(){return e.store[p](...arguments),e}});let l=D(),c=()=>{let p=(f,u)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),l.resolve(u),s(f,u)};if(this.languages&&this.options.compatibilityAPI!=="v1"&&!this.isInitialized)return p(null,this.t.bind(this));this.changeLanguage(this.options.lng,p)};return this.options.resources||!this.options.initImmediate?c():setTimeout(c,0),l}loadResources(e){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:G,r=typeof e=="string"?e:this.language;if(typeof e=="function"&&(s=e),!this.options.resources||this.options.partialBundledLanguages){if(r&&r.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return s();let n=[],o=a=>{if(!a||a==="cimode")return;this.services.languageUtils.toResolveHierarchy(a).forEach(c=>{c!=="cimode"&&n.indexOf(c)<0&&n.push(c)})};r?o(r):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(l=>o(l)),this.options.preload&&this.options.preload.forEach(a=>o(a)),this.services.backendConnector.load(n,this.options.ns,a=>{!a&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),s(a)})}else s(null)}reloadResources(e,t,s){let r=D();return e||(e=this.languages),t||(t=this.options.ns),s||(s=G),this.services.backendConnector.reload(e,t,n=>{r.resolve(),s(n)}),r}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&Ie.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1))for(let t=0;t<this.languages.length;t++){let s=this.languages[t];if(!(["cimode","dev"].indexOf(s)>-1)&&this.store.hasLanguageSomeTranslations(s)){this.resolvedLanguage=s;break}}}changeLanguage(e,t){var s=this;this.isLanguageChangingTo=e;let r=D();this.emit("languageChanging",e);let n=l=>{this.language=l,this.languages=this.services.languageUtils.toResolveHierarchy(l),this.resolvedLanguage=void 0,this.setResolvedLanguage(l)},o=(l,c)=>{c?(n(c),this.translator.changeLanguage(c),this.isLanguageChangingTo=void 0,this.emit("languageChanged",c),this.logger.log("languageChanged",c)):this.isLanguageChangingTo=void 0,r.resolve(function(){return s.t(...arguments)}),t&&t(l,function(){return s.t(...arguments)})},a=l=>{!e&&!l&&this.services.languageDetector&&(l=[]);let c=typeof l=="string"?l:this.services.languageUtils.getBestMatchFromCodes(l);c&&(this.language||n(c),this.translator.language||this.translator.changeLanguage(c),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage&&this.services.languageDetector.cacheUserLanguage(c)),this.loadResources(c,p=>{o(p,c)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?a(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(a):this.services.languageDetector.detect(a):a(e),r}getFixedT(e,t,s){var r=this;let n=function(o,a){let l;if(typeof a!="object"){for(var c=arguments.length,p=new Array(c>2?c-2:0),f=2;f<c;f++)p[f-2]=arguments[f];l=r.options.overloadTranslationOptionHandler([o,a].concat(p))}else l={...a};l.lng=l.lng||n.lng,l.lngs=l.lngs||n.lngs,l.ns=l.ns||n.ns,l.keyPrefix!==""&&(l.keyPrefix=l.keyPrefix||s||n.keyPrefix);let u=r.options.keySeparator||".",g;return l.keyPrefix&&Array.isArray(o)?g=o.map(h=>`${l.keyPrefix}${u}${h}`):g=l.keyPrefix?`${l.keyPrefix}${u}${o}`:o,r.t(g,l)};return typeof e=="string"?n.lng=e:n.lngs=e,n.ns=t,n.keyPrefix=s,n}t(){return this.translator&&this.translator.translate(...arguments)}exists(){return this.translator&&this.translator.exists(...arguments)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;let s=t.lng||this.resolvedLanguage||this.languages[0],r=this.options?this.options.fallbackLng:!1,n=this.languages[this.languages.length-1];if(s.toLowerCase()==="cimode")return!0;let o=(a,l)=>{let c=this.services.backendConnector.state[`${a}|${l}`];return c===-1||c===2};if(t.precheck){let a=t.precheck(this,o);if(a!==void 0)return a}return!!(this.hasResourceBundle(s,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||o(s,e)&&(!r||o(n,e)))}loadNamespaces(e,t){let s=D();return this.options.ns?(typeof e=="string"&&(e=[e]),e.forEach(r=>{this.options.ns.indexOf(r)<0&&this.options.ns.push(r)}),this.loadResources(r=>{s.resolve(),t&&t(r)}),s):(t&&t(),Promise.resolve())}loadLanguages(e,t){let s=D();typeof e=="string"&&(e=[e]);let r=this.options.preload||[],n=e.filter(o=>r.indexOf(o)<0&&this.services.languageUtils.isSupportedCode(o));return n.length?(this.options.preload=r.concat(n),this.loadResources(o=>{s.resolve(),t&&t(o)}),s):(t&&t(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!e)return"rtl";let t=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],s=this.services&&this.services.languageUtils||new X(Oe());return t.indexOf(s.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return new i(e,t)}cloneInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:G,s=e.forkResourceStore;s&&delete e.forkResourceStore;let r={...this.options,...e,isClone:!0},n=new i(r);return(e.debug!==void 0||e.prefix!==void 0)&&(n.logger=n.logger.clone(e)),["store","services","language"].forEach(a=>{n[a]=this[a]}),n.services={...this.services},n.services.utils={hasLoadedNamespace:n.hasLoadedNamespace.bind(n)},s&&(n.store=new Y(this.store.data,r),n.services.resourceStore=n.store),n.translator=new Q(n.services,r),n.translator.on("*",function(a){for(var l=arguments.length,c=new Array(l>1?l-1:0),p=1;p<l;p++)c[p-1]=arguments[p];n.emit(a,...c)}),n.init(r,t),n.translator.options=r,n.translator.backendConnector.services.utils={hasLoadedNamespace:n.hasLoadedNamespace.bind(n)},n}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}},d=Z.createInstance();d.createInstance=Z.createInstance;var zt=d.createInstance,Ht=d.dir,Bt=d.init,qt=d.loadResources,Gt=d.reloadResources,Jt=d.use,Wt=d.changeLanguage,Yt=d.getFixedT,Qt=d.t,Xt=d.exists,Zt=d.setDefaultNamespace,es=d.hasLoadedNamespace,ts=d.loadNamespaces,ss=d.loadLanguages;function Ne(i,e){if(!(i instanceof e))throw new TypeError("Cannot call a class as a function")}function I(i){"@babel/helpers - typeof";return I=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},I(i)}function Ee(i,e){if(I(i)!="object"||!i)return i;var t=i[Symbol.toPrimitive];if(t!==void 0){var s=t.call(i,e||"default");if(I(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(i)}function Ae(i){var e=Ee(i,"string");return I(e)=="symbol"?e:e+""}function _e(i,e){for(var t=0;t<e.length;t++){var s=e[t];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(i,Ae(s.key),s)}}function Re(i,e,t){return e&&_e(i.prototype,e),t&&_e(i,t),Object.defineProperty(i,"prototype",{writable:!1}),i}var De=[],St=De.forEach,wt=De.slice;function Lt(i){return St.call(wt.call(arguments,1),function(e){if(e)for(var t in e)i[t]===void 0&&(i[t]=e[t])}),i}var Pe=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,Ot=function(e,t,s){var r=s||{};r.path=r.path||"/";var n=encodeURIComponent(t),o="".concat(e,"=").concat(n);if(r.maxAge>0){var a=r.maxAge-0;if(Number.isNaN(a))throw new Error("maxAge should be a Number");o+="; Max-Age=".concat(Math.floor(a))}if(r.domain){if(!Pe.test(r.domain))throw new TypeError("option domain is invalid");o+="; Domain=".concat(r.domain)}if(r.path){if(!Pe.test(r.path))throw new TypeError("option path is invalid");o+="; Path=".concat(r.path)}if(r.expires){if(typeof r.expires.toUTCString!="function")throw new TypeError("option expires is invalid");o+="; Expires=".concat(r.expires.toUTCString())}if(r.httpOnly&&(o+="; HttpOnly"),r.secure&&(o+="; Secure"),r.sameSite){var l=typeof r.sameSite=="string"?r.sameSite.toLowerCase():r.sameSite;switch(l){case!0:o+="; SameSite=Strict";break;case"lax":o+="; SameSite=Lax";break;case"strict":o+="; SameSite=Strict";break;case"none":o+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return o},Te={create:function(e,t,s,r){var n=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};s&&(n.expires=new Date,n.expires.setTime(n.expires.getTime()+s*60*1e3)),r&&(n.domain=r),document.cookie=Ot(e,encodeURIComponent(t),n)},read:function(e){for(var t="".concat(e,"="),s=document.cookie.split(";"),r=0;r<s.length;r++){for(var n=s[r];n.charAt(0)===" ";)n=n.substring(1,n.length);if(n.indexOf(t)===0)return n.substring(t.length,n.length)}return null},remove:function(e){this.create(e,"",-1)}},Ct={name:"cookie",lookup:function(e){var t;if(e.lookupCookie&&typeof document<"u"){var s=Te.read(e.lookupCookie);s&&(t=s)}return t},cacheUserLanguage:function(e,t){t.lookupCookie&&typeof document<"u"&&Te.create(t.lookupCookie,e,t.cookieMinutes,t.cookieDomain,t.cookieOptions)}},kt={name:"querystring",lookup:function(e){var t;if(typeof window<"u"){var s=window.location.search;!window.location.search&&window.location.hash&&window.location.hash.indexOf("?")>-1&&(s=window.location.hash.substring(window.location.hash.indexOf("?")));for(var r=s.substring(1),n=r.split("&"),o=0;o<n.length;o++){var a=n[o].indexOf("=");if(a>0){var l=n[o].substring(0,a);l===e.lookupQuerystring&&(t=n[o].substring(a+1))}}}return t}},U=null,$e=function(){if(U!==null)return U;try{U=window!=="undefined"&&window.localStorage!==null;var e="i18next.translate.boo";window.localStorage.setItem(e,"foo"),window.localStorage.removeItem(e)}catch{U=!1}return U},It={name:"localStorage",lookup:function(e){var t;if(e.lookupLocalStorage&&$e()){var s=window.localStorage.getItem(e.lookupLocalStorage);s&&(t=s)}return t},cacheUserLanguage:function(e,t){t.lookupLocalStorage&&$e()&&window.localStorage.setItem(t.lookupLocalStorage,e)}},F=null,Me=function(){if(F!==null)return F;try{F=window!=="undefined"&&window.sessionStorage!==null;var e="i18next.translate.boo";window.sessionStorage.setItem(e,"foo"),window.sessionStorage.removeItem(e)}catch{F=!1}return F},Nt={name:"sessionStorage",lookup:function(e){var t;if(e.lookupSessionStorage&&Me()){var s=window.sessionStorage.getItem(e.lookupSessionStorage);s&&(t=s)}return t},cacheUserLanguage:function(e,t){t.lookupSessionStorage&&Me()&&window.sessionStorage.setItem(t.lookupSessionStorage,e)}},Et={name:"navigator",lookup:function(e){var t=[];if(typeof navigator<"u"){if(navigator.languages)for(var s=0;s<navigator.languages.length;s++)t.push(navigator.languages[s]);navigator.userLanguage&&t.push(navigator.userLanguage),navigator.language&&t.push(navigator.language)}return t.length>0?t:void 0}},At={name:"htmlTag",lookup:function(e){var t,s=e.htmlTag||(typeof document<"u"?document.documentElement:null);return s&&typeof s.getAttribute=="function"&&(t=s.getAttribute("lang")),t}},_t={name:"path",lookup:function(e){var t;if(typeof window<"u"){var s=window.location.pathname.match(/\/([a-zA-Z-]*)/g);if(s instanceof Array)if(typeof e.lookupFromPathIndex=="number"){if(typeof s[e.lookupFromPathIndex]!="string")return;t=s[e.lookupFromPathIndex].replace("/","")}else t=s[0].replace("/","")}return t}},Rt={name:"subdomain",lookup:function(e){var t=typeof e.lookupFromSubdomainIndex=="number"?e.lookupFromSubdomainIndex+1:1,s=typeof window<"u"&&window.location&&window.location.hostname&&window.location.hostname.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i);if(s)return s[t]}};function Pt(){return{order:["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"],lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:function(e){return e}}}var pe=(function(){function i(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Ne(this,i),this.type="languageDetector",this.detectors={},this.init(e,t)}return Re(i,[{key:"init",value:function(t){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=t||{languageUtils:{}},this.options=Lt(s,this.options||{},Pt()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=function(n){return n.replace("-","_")}),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=r,this.addDetector(Ct),this.addDetector(kt),this.addDetector(It),this.addDetector(Nt),this.addDetector(Et),this.addDetector(At),this.addDetector(_t),this.addDetector(Rt)}},{key:"addDetector",value:function(t){return this.detectors[t.name]=t,this}},{key:"detect",value:function(t){var s=this;t||(t=this.options.order);var r=[];return t.forEach(function(n){if(s.detectors[n]){var o=s.detectors[n].lookup(s.options);o&&typeof o=="string"&&(o=[o]),o&&(r=r.concat(o))}}),r=r.map(function(n){return s.options.convertDetectedLanguage(n)}),this.services.languageUtils.getBestMatchFromCodes?r:r.length>0?r[0]:null}},{key:"cacheUserLanguage",value:function(t,s){var r=this;s||(s=this.options.caches),s&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(t)>-1||s.forEach(function(n){r.detectors[n]&&r.detectors[n].cacheUserLanguage(t,r.options)}))}}]),i})();pe.type="languageDetector";var je="aj_lti",_="main-content";function Ue(i){return document.cookie?document.cookie.match(`(^|;)\\s*${i.openIdCookiePrefix}`+i.state):!1}function Fe(i){document.cookie=i.openIdCookiePrefix+i.state+"=1; path=/; max-age=60; SameSite=None;"}function ee(i){return d.t(i.privacyPolicyMessage||"We use cookies for login and security.")+" "+d.t("Learn more in our <a href='{{url}}' target='_blank'>privacy policy</a>.")}function Tt(i){window.open(i.relaunchInitUrl),V(i,{disableLaunch:!0,showRequestStorageAccess:!1,showStorageAccessDenied:!1})}function V(i,e){let{disableLaunch:t,showRequestStorageAccess:s,showStorageAccessDenied:r}=e,n=document.getElementById(_);if(!n)throw d.t("Could not find main-content element");n.innerHTML=`
    <div class="aj-centered-message">
      <h1 class="aj-title">
        <i class="material-icons-outlined aj-icon" aria-hidden="true">cookie_off</i>
        ${d.t("Cookies Required")}
      </h1>
      <p class="aj-text">
        ${ee(i)} </p>
      <p class="aj-text">
        ${d.t("Please click the button below to reload in a new window.")}
      </p>
      <button id="button_launch_new_window" class="aj-btn aj-btn--blue" ${t?'disabled=""':""} >
        ${d.t("Open in a new window")}
      </button>
      </a>
      ${s?`
        <div id="request_storage_access">
          <p class="aj-text">
            ${d.t("If you have used this application before, your browser may allow you to <a id='request_storage_access_link' href='#'>enable cookies</a> and prevent this message in the future.")}
          </p>
        </div>
      `:""}
      ${r?`
      <div id="request_storage_access_error" class="u-flex">
        <i class="material-icons-outlined aj-icon" aria-hidden="true">warning</i>
        <p class="aj-text">
        ${d.t("The browser prevented access.  Try launching in a new window first and then clicking this option again next time. If that doesn't work check your privacy settings. Some browsers will prevent all third party cookies.")}
        </p>
      </div>
      `:""}
    </div>
  `,document.getElementById("button_launch_new_window").onclick=()=>Tt(i),s&&(document.getElementById("request_storage_access_link").onclick=()=>Ve(i))}function $t(){return new Promise((i,e)=>{let t=window.parent||window.opener,s=setTimeout(()=>{console.log(d.t("capabilities request timeout")),e(new Error(d.t("Timeout while waiting for capabilities response")))},1e3),r=n=>{if(typeof n.data=="object"&&n.data.subject==="lti.capabilities.response"&&n.data.message_id==="aj-lti-caps"){if(removeEventListener("message",r),clearTimeout(s),n.data.error){console.error(n.data.error.code),console.error(n.data.error.message),e(new Error(n.data.errormessage));return}i(n.data.supported_messages)}};window.addEventListener("message",r),t.postMessage({subject:"lti.capabilities",message_id:"aj-lti-caps"},"*")})}async function Ke(i){let e=await $t();return e&&e.find(t=>t.subject==i)||null}async function Mt(i){let e=i.target;e==null&&(e=(await Ke("lti.get_data"))?.frame),e==null&&(e="_parent");let t=window.parent||window.opener;return e==="_parent"?t:t.frames[e]||t}async function ze(i,e){return new Promise((t,s)=>{let r=new URL(e.platformOIDCUrl).origin;e.originSupportBroken&&(r="*");let n=setTimeout(()=>{console.error("postMessage timeout"),s(new Error(d.t("Timeout while waiting for platform response")))},2e3),o=a=>{typeof a.data=="object"&&a.data.subject==="lti.put_data.response"&&a.data.message_id===i&&(a.origin===r||e.originSupportBroken&&r==="*")&&(removeEventListener("message",o),clearTimeout(n),a.data.error&&(console.error(a.data.error.code),console.error(a.data.error.message),s(new Error(a.data.errormessage))),t())};window.addEventListener("message",o),Mt(e).then(a=>a?.postMessage({subject:"lti.put_data",message_id:i,key:`${je}${i}`,value:i},r)).catch(a=>{console.log(d.t("Could not find target frame")),console.log(a),s(new Error(d.t("Could not find target frame")))})})}function He(){return typeof document.hasStorageAccess=="function"&&typeof document.requestStorageAccess=="function"}function Ve(i){document.requestStorageAccess().then(()=>{Fe(i),window.location.replace(i.responseUrl)}).catch(e=>{console.log(e),V(i,{showStorageAccessDenied:!0,disableLaunch:!0,showRequestStorageAccess:!1})})}function Be(i){let e=document.getElementById(_);if(!e)throw d.t("Could not find main-content element");e.innerHTML=`
    <div id="cookie_error" class="aj-centered-message">
      <h1 class="aj-title">
        <i class="material-icons-outlined aj-icon" aria-hidden="true">cookie_off</i>
        ${d.t("Cookies Required")}
      </h1>
      <p class="aj-text">
        ${ee(i)}
      </p>
      <p class="aj-text">
        ${d.t("Please check your browser settings and enable cookies.")}
      </p>
    </div>
  `}async function qe(i){let e=()=>{window.location.replace(i.responseUrl)};if(Ue(i))return e();if(i.ltiStorageParams)try{return await ze(i.state,i.ltiStorageParams),e()}catch(t){console.error(t)}if(window.self!==window.top){let t=!1;if(He())try{await document.hasStorageAccess()||(t=!0)}catch(s){console.log(s)}V(i,{showRequestStorageAccess:t,disableLaunch:!1,showStorageAccessDenied:!1})}else Be(i)}var Ge={"Cookies Required":"Galletas requeridas","There was an error launching the LTI tool. Please reload and try again.":"Hubo un error al iniciar la herramienta LTI. Vuelva a cargar y vuelva a intentarlo.","Please click the button below to reload in a new window.":"Haga clic en el bot\xF3n de abajo para recargar en una nueva ventana.","Open in a new window":"Abrir en una nueva ventana","If you have used this application before, your browser may allow you to <a id='request_storage_access_link' href='#'>enable cookies</a> and prevent this message in the future.":"Si ha utilizado esta aplicaci\xF3n anteriormente, su navegador puede permitirle <a id='request_storage_access_link' href='#'>habilitar cookies</a> y evitar este mensaje en el futuro.","The browser prevented access.  Try launching in a new window first and then clicking this option again next time. If that doesn't work check your privacy settings. Some browsers will prevent all third party cookies.":"El navegador impidi\xF3 el acceso. Intente iniciar primero en una nueva ventana y luego vuelva a hacer clic en esta opci\xF3n la pr\xF3xima vez. Si eso no funciona, verifique su configuraci\xF3n de privacidad. Algunos navegadores evitar\xE1n todas las cookies de terceros.","We use cookies for login and security.":"Usamos cookies para inicio de sesi\xF3n y seguridad.","Learn more in our <a href='{{url}}' target='_blank'>privacy policy</a>.":"Obt\xE9n m\xE1s informaci\xF3n en nuestra <a href='{{url}}' target='_blank'>pol\xEDtica de privacidad</a>.","Please check your browser settings and enable cookies.":"Verifique la configuraci\xF3n de su navegador y habilite las cookies."};var Je={"Cookies Required":"Cookies n\xE9cessaires","There was an error launching the LTI tool. Please reload and try again.":"Une erreur s'est produite lors du lancement de l'outil LTI. Veuillez recharger et r\xE9essayer.","Please click the button below to reload in a new window.":"Veuillez cliquer sur le bouton ci-dessous pour recharger dans une nouvelle fen\xEAtre.","Open in a new window":"Ouvrir dans une nouvelle fen\xEAtre","If you have used this application before, your browser may allow you to <a id='request_storage_access_link' href='#'>enable cookies</a> and prevent this message in the future.":"Si vous avez d\xE9j\xE0 utilis\xE9 cette application, votre navigateur peut vous permettre d'<a id='request_storage_access_link' href='#'>activer les cookies</a> et emp\xEAcher ce message \xE0 l'avenir.","The browser prevented access.  Try launching in a new window first and then clicking this option again next time. If that doesn't work check your privacy settings. Some browsers will prevent all third party cookies.":"Le navigateur a emp\xEAch\xE9 l'acc\xE8s. Essayez d'abord de lancer dans une nouvelle fen\xEAtre, puis cliquez \xE0 nouveau sur cette option la prochaine fois. Si cela ne fonctionne pas, v\xE9rifiez vos param\xE8tres de confidentialit\xE9. Certains navigateurs emp\xEAcheront tous les cookies tiers.","We use cookies for login and security.":"Nous utilisons des cookies pour la connexion et la s\xE9curit\xE9.","Learn more in our <a href='{{url}}' target='_blank'>privacy policy</a>.":"En savoir plus dans notre <a href='{{url}}' target='_blank'>politique de confidentialit\xE9</a>.","Please check your browser settings and enable cookies.":"Veuillez v\xE9rifier les param\xE8tres de votre navigateur et activer les cookies."};function Ut(){let i=document.getElementById(_);if(!i)throw"Could not find main-content element";i.innerHTML+=`
    <div class="u-flex aj-centered-message">
      <i class="material-icons-outlined aj-icon" aria-hidden="true">warning</i>
      <p class="aj-text translate">
        ${d.t("There was an error launching the LTI tool. Please reload and try again.")}
      </p>
    </div>
  `}function fe(i){let e=!1;d.use(pe).init({detection:{order:["querystring","navigator"]},fallbackLng:"en",keySeparator:!1}),d.addResourceBundle("es","translation",Ge),d.addResourceBundle("fr","translation",Je),d.changeLanguage(),window.addEventListener("load",()=>{qe(i),e=!0}),setTimeout(()=>{e||Ut()},5e3)}var We;(function(i){i.v1_3_0="1.3.0"})(We||(We={}));var Ye;(function(i){i.iframe="iframe",i.window="window",i.embed="embed"})(Ye||(Ye={}));var Qe;(function(i){i.link="link",i.file="file",i.html="html",i.ltiResourceLink="ltiResourceLink",i.image="image"})(Qe||(Qe={}));var ge;(function(i){i.LtiResourceLinkRequest="LtiResourceLinkRequest",i.LtiDeepLinkingRequest="LtiDeepLinkingRequest",i.LtiDeepLinkingResponse="LtiDeepLinkingResponse"})(ge||(ge={}));var Xe;(function(i){i.AdministratorSystemRole="http://purl.imsglobal.org/vocab/lis/v2/system/person#Administrator",i.NoneSystemRole="http://purl.imsglobal.org/vocab/lis/v2/system/person#None",i.AccountAdminSystemRole="http://purl.imsglobal.org/vocab/lis/v2/system/person#AccountAdmin",i.CreatorSystemRole="http://purl.imsglobal.org/vocab/lis/v2/system/person#Creator",i.SysAdminSystemRole="http://purl.imsglobal.org/vocab/lis/v2/system/person#SysAdmin",i.SysSupportSystemRole="http://purl.imsglobal.org/vocab/lis/v2/system/person#SysSupport",i.UserSystemRole="http://purl.imsglobal.org/vocab/lis/v2/system/person#User",i.AdministratorInstitutionRole="http://purl.imsglobal.org/vocab/lis/v2/institution/person#Administrator",i.FacultyInstitutionRole="http://purl.imsglobal.org/vocab/lis/v2/institution/person#Faculty",i.GuestInstitutionRole="http://purl.imsglobal.org/vocab/lis/v2/institution/person#Guest",i.NoneInstitutionRole="http://purl.imsglobal.org/vocab/lis/v2/institution/person#None",i.OtherInstitutionRole="http://purl.imsglobal.org/vocab/lis/v2/institution/person#Other",i.StaffInstitutionRole="http://purl.imsglobal.org/vocab/lis/v2/institution/person#Staff",i.StudentInstitutionRole="http://purl.imsglobal.org/vocab/lis/v2/institution/person#Student",i.AlumniInstitutionRole="http://purl.imsglobal.org/vocab/lis/v2/institution/person#Alumni",i.InstructorInstitutionRole="http://purl.imsglobal.org/vocab/lis/v2/institution/person#Instructor",i.LearnerInstitutionRole="http://purl.imsglobal.org/vocab/lis/v2/institution/person#Learner",i.MemberInstitutionRole="http://purl.imsglobal.org/vocab/lis/v2/institution/person#Member",i.MentorInstitutionRole="http://purl.imsglobal.org/vocab/lis/v2/institution/person#Mentor",i.ObserverInstitutionRole="http://purl.imsglobal.org/vocab/lis/v2/institution/person#Observer",i.ProspectiveStudentInstitutionRole="http://purl.imsglobal.org/vocab/lis/v2/institution/person#ProspectiveStudent",i.AdministratorContextRole="http://purl.imsglobal.org/vocab/lis/v2/membership#Administrator",i.ContentDeveloperContextRole="http://purl.imsglobal.org/vocab/lis/v2/membership#ContentDeveloper",i.InstructorContextRole="http://purl.imsglobal.org/vocab/lis/v2/membership#Instructor",i.LearnerContextRole="http://purl.imsglobal.org/vocab/lis/v2/membership#Learner",i.MentorContextRole="http://purl.imsglobal.org/vocab/lis/v2/membership#Mentor",i.ManagerContextRole="http://purl.imsglobal.org/vocab/lis/v2/membership#Manager",i.MemberContextRole="http://purl.imsglobal.org/vocab/lis/v2/membership#Member",i.OfficerContextRole="http://purl.imsglobal.org/vocab/lis/v2/membership#Officer"})(Xe||(Xe={}));var Ze;(function(i){i.lineItem="https://purl.imsglobal.org/spec/lti-ags/scope/lineitem",i.resultReadOnly="https://purl.imsglobal.org/spec/lti-ags/scope/result.readonly",i.score="https://purl.imsglobal.org/spec/lti-ags/scope/score",i.lineItemReadOnly="https://purl.imsglobal.org/spec/lti-ags/scope/lineitem.readonly"})(Ze||(Ze={}));var et;(function(i){i.Active="Active",i.Inactive="Inactive",i.Deleted="Deleted"})(et||(et={}));var R=class extends Error{constructor(e,t,s){super(`PostMessageError: ${e}`),this.type=e,this.payload=t,this.response=s}},K;(function(i){i.Timeout="timeout",i.ResponseError="response_error"})(K||(K={}));var Ft={origin:"*",targetFrame:null,timeout:2e3},te=class{constructor(e){this.defaultOptions={...Ft,...e}}async send(e,t={}){let s={...this.defaultOptions,...t},r=await this.findTargetFrame(e.subject,s.targetFrame??null);return new Promise((n,o)=>{let a=setTimeout(()=>{o(new R(K.Timeout,e))},s.timeout),l=c=>{typeof c.data=="object"&&c.data.subject===`${e.subject}.response`&&c.data.message_id===e.message_id&&(c.origin===s.origin||s.origin==="*"&&c.origin!=="null")&&(window.removeEventListener("message",l),clearTimeout(a),c.data.error?o(new R(K.ResponseError,e,c.data)):n(c.data))};window.addEventListener("message",l),r.postMessage(e,{targetOrigin:s.origin})})}async getCapabilities(){return(await this.send({subject:"lti.capabilities",message_id:"lti-caps"},{origin:"*",targetFrame:window.parent??window.opener})).supported_messages}async getCapability(e){return(await this.getCapabilities()).find(s=>s.subject===e)??null}messageId(e,...t){let s=Math.random().toString(36).substring(2);return`${e}-${t.join("-")}-${s}`}async findTargetFrame(e,t){if(typeof t!="string"&&t!==null)return t;t==null&&(t=(await this.getCapability(e))?.frame??"_parent");let s=window.parent||window.opener;return t==="_parent"?s:s.frames[t]||s}},z=class{constructor(e){this.client=e??new te}};z.MessageTypes=null;var Vt=window.INIT_SETTINGS;fe(Vt);})();
